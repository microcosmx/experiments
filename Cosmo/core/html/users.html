<div ng-controller="usersCtrl">
    <div ng-show="!selectedUser">
        <div class="bar-top">
            <a ng-click="admin.sidebar='core/html/sidebar.html';active=''"><i class="fa fa-angle-left"></i></a>
            <h1 translate="users"></h1>
            <a class="sidebar-close" ng-click="admin.showAdminPanel=false;admin.active=false;"><i class="fa fa-times"></i></a>
        </div>

        <div class="bar--actions">
            <button ng-click="createUser=!createUser;beginSearch=false;">
                <span translate="users_new_user" ng-if="!createUser"></span>
                <span translate="close" ng-if="createUser"></span>
            </button>
            <button ng-click="beginSearch=!beginSearch;createUser=false;">
                <span ng-if="!beginSearch" translate="search">
                </span>
                <span ng-if="beginSearch" translate="close">
                </span>
            </button>
        </div>

        <div class="form-case--border" ng-show="createUser">
            <div ng-controller="loginRegistrationCtrl">
                <div class="new-user">
                    <div class="half-width">
                        <label for="username" translate="username"></label>
                        <input id="username" type="text" ng-model="register.username">
                    </div>

                    <div class="half-width">
                        <label for="email" translate="email"></label>
                        <input id="email" type="text" ng-model="register.email">
                    </div>

                    <div class="half-width">
                        <label for="password" translate="password"></label>
                        <input id="password" type="password" ng-model="register.password">
                    </div>

                    <div class="half-width">
                        <label for="confirm-password" translate="confirm_password"></label>
                        <input id="confirm-password"type="password" ng-model="register.confirmPassword">
                    </div>

                    <button ng-click="register()" translate="users_create"></button>
                </div>
            </div>
        </div>
        <div class="form-case--border" ng-show="beginSearch">
            <label translate="search"></label>
            <input class="search" placeholder="Username or Email" value="search" type="text" ng-model="users.search">
        </div>
        <ul>
            <li ng-repeat="user in users.data | filter:users.search">

                <div class="half-width">
                    <label for="username" translate="username"></label>
                    <input id="username" ng-model="user.username" ng-keyup="updateUser(user)">
                </div>

                <div class="half-width">
                    <label for="email" translate="email"></label>
                    <input id="email" ng-model="user.email" ng-keyup="updateUser(user)">
                </div>

                <label for="role" translate="role"></label>
                <div class="cos-select">
                    <select id="role" ng-model="user.role" ng-change="updateUser(user)">
                        <option value="admin" translate="users_admin"></option>
                        <option value="editor" translate="users_editor"></option>
                        <option value="author" translate="users_author"></option>
                        <option value="contributor" translate="users_contributor"></option>
                    </select>
                </div>
            </li>
        </ul>
    </div>
</div>
